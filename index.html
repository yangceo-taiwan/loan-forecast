<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å®åœ‹åœ°æ”¿ | æ˜“ä¸åœ°æ”¿ - å°ˆæ¥­æˆ¿è²¸è©•ä¼°ç³»çµ± v6.0 (å…¨æ–°è¦–è¦ºç‰ˆ)</title>
    
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@700&display=swap" rel="stylesheet">

    <script>
        // ç¦æ­¢å³éµèˆ‡å¿«æ·éµä¿è­·
        document.addEventListener('contextmenu', e => e.preventDefault());
        document.onkeydown = e => {
            if(e.keyCode == 123 || (e.ctrlKey && e.shiftKey && [73,74,67].includes(e.keyCode)) || (e.ctrlKey && e.keyCode == 85)) return false;
        };
        document.ondragstart = () => false;
    </script>
    <style>
        /* åŸºç¤è¨­å®š */
        body {
            -webkit-user-select: none; user-select: none;
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #F0F2F5; /* æ›´æŸ”å’Œçš„èƒŒæ™¯ç° */
            color: #1F2937;
            -webkit-tap-highlight-color: transparent;
        }
        input, textarea, select { -webkit-user-select: auto; user-select: auto; }

        :root {
            --nexus-navy: #0F2E46;
            --nexus-gold: #C5A065;
            --nexus-blue-light: #E0F2FE;
            --nexus-red-light: #FEF2F2;
            --line-green: #06C755;
        }

        /* 1. å“ç‰Œé ­éƒ¨ (ä¿æŒä¸è®Š) */
        .brand-header {
            background: linear-gradient(180deg, var(--nexus-navy) 0%, #162a3b 100%);
            color: white;
            padding-bottom: 3rem; /* å¢åŠ åº•éƒ¨ç©ºé–“ */
            border-bottom: 4px solid var(--nexus-gold);
            box-shadow: 0 10px 25px -5px rgba(15, 46, 70, 0.3); /* æ›´æ·±é‚ƒçš„é™°å½± */
        }
        .btn-link {
            display: flex; align-items: center; justify-content: center;
            padding: 0.8rem; border-radius: 0.8rem; font-weight: bold; text-decoration: none;
            transition: all 0.2s; box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .btn-link:active { transform: scale(0.97); }
        .btn-line { background-color: var(--line-green); color: white; animation: pulse-green 2s infinite; }
        .btn-fb { background-color: #1877F2; color: white; }
        .btn-map { background-color: #EA4335; color: white; }
        .btn-vip { background: linear-gradient(90deg, #333 0%, #000 100%); color: #FFD700; border: 1px solid #FFD700; }
        @keyframes pulse-green {
            0% { box-shadow: 0 0 0 0 rgba(6, 199, 85, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(6, 199, 85, 0); }
            100% { box-shadow: 0 0 0 0 rgba(6, 199, 85, 0); }
        }

        /* 2. æ–°ç‰ˆå€å¡Šè¨­è¨ˆ (Modern Section) */
        .modern-section {
            background: white;
            border-radius: 1.5rem; /* æ›´åœ“æ½¤ */
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.02); /* é›™é‡æŸ”å’Œé™°å½± */
            border: 1px solid rgba(255, 255, 255, 0.5); /* å¾®å¦™çš„é‚Šæ¡† */
        }
        
        .section-title {
            font-size: 1.25rem; font-weight: 700; color: var(--nexus-navy);
            margin-bottom: 1.25rem; display: flex; align-items: center;
            position: relative; padding-left: 1rem;
        }
        /* æ¨™é¡Œå·¦å´è£é£¾ç·š */
        .section-title::before {
            content: ''; position: absolute; left: 0; top: 50%; transform: translateY(-50%);
            width: 4px; height: 1.2em; background: var(--nexus-gold); border-radius: 2px;
        }
        .section-title i { margin-right: 0.75rem; color: var(--nexus-navy); opacity: 0.8; }

        /* 3. è¼¸å…¥æ¡†å„ªåŒ– */
        .input-group { margin-bottom: 1.2rem; }
        .input-label { 
            display: flex; align-items: center;
            font-size: 0.95rem; color: #374151; margin-bottom: 0.5rem; font-weight: 600; 
        }
        .input-label i { color: var(--nexus-gold); margin-right: 0.5rem; width: 1.2rem; text-align: center;}
        
        .nexus-input, .nexus-select {
            width: 100%; padding: 0.8rem 1rem; border-radius: 0.8rem;
            border: 1px solid #E5E7EB; background: #F9FAFB;
            font-size: 1rem; color: #1F2937; transition: all 0.3s ease;
        }
        .nexus-input:focus, .nexus-select:focus {
            outline: none; border-color: var(--nexus-navy); background: white;
            box-shadow: 0 0 0 3px rgba(15, 46, 70, 0.08);
        }
        
        /* 4. å„€è¡¨æ¿åŒ–çµæœé¡¯ç¤º */
        .dashboard-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 0.75rem; margin-bottom: 1rem; }
        .dash-card { 
            background: white; border-radius: 1rem; padding: 1rem 0.5rem; text-align: center;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05); border: 1px solid #F3F4F6;
            position: relative; overflow: hidden;
        }
        /* é ‚éƒ¨è£é£¾æ¢ */
        .dash-card::after { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 4px; }
        .dash-card.safe::after { background: #10B981; } /* Green */
        .dash-card.limit::after { background: #F59E0B; } /* Orange */
        .dash-card.public::after { background: #3B82F6; } /* Blue */

        .dash-title { font-size: 0.85rem; font-weight: 700; color: #4B5563; margin-bottom: 0.5rem; }
        .dash-val { font-family: 'Roboto', sans-serif; font-size: 1.6rem; font-weight: 700; line-height: 1; }
        .dash-unit { font-size: 0.8rem; font-weight: 500; }
        .dash-card.safe .dash-val { color: #059669; }
        .dash-card.limit .dash-val { color: #D97706; }
        .dash-card.public .dash-val { color: #2563EB; }

        /* 5. åœ–ç‰‡èˆ‡QAæ”¶åˆå„ªåŒ– */
        details.img-toggle summary, details.qa-item summary {
            padding: 1rem; background: white; border: 1px solid #E5E7EB;
            border-radius: 0.8rem; cursor: pointer; font-weight: 600; color: #4B5563;
            display: flex; justify-content: space-between; align-items: center; transition: all 0.2s;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }
        details[open] summary { background: var(--nexus-blue-light); color: var(--nexus-navy); border-color: transparent; }
        details.img-toggle img { border-radius: 0 0 0.8rem 0.8rem; border: 1px solid #E5E7EB; border-top: none; }
        .qa-content { padding: 1rem; background: #F9FAFB; border-radius: 0 0 0.8rem 0.8rem; color: #4B5563; }

        /* åº•éƒ¨æŒ‰éˆ• */
        .sticky-footer {
            position: fixed; bottom: 0; left: 0; width: 100%;
            background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px);
            padding: 1rem; box-shadow: 0 -4px 20px rgba(0,0,0,0.08); z-index: 50;
        }
        
        /* ç‰¹åˆ¥å¼·èª¿å€å¡Š */
        .highlight-box { background: #FFFBEB; border: 1px solid #FCD34D; border-radius: 1rem; padding: 1rem; }
    </style>
</head>
<body>

<div id="app" class="max-w-md mx-auto min-h-screen pb-28 relative font-sans">

    <div class="brand-header px-6 pt-12 pb-24 rounded-b-[3rem]">
        <div class="text-center mb-8">
            <h1 class="text-3xl font-bold tracking-widest text-[#C5A065] mb-2 drop-shadow-sm">å®åœ‹åœ°æ”¿ | æ˜“ä¸åœ°æ”¿</h1>
            <p class="text-sm text-blue-100 opacity-80 tracking-[0.3em] uppercase">Professional Real Estate Evaluation</p>
        </div>
        
        <div class="grid grid-cols-4 gap-3">
            <a href="https://line.me/R/ti/p/@604gpqef" target="_blank" class="col-span-4 btn-link btn-line text-lg py-3">
                <i class="fab fa-line text-2xl mr-2"></i> åŠ å…¥å®˜æ–¹å¥½å‹ (è«®è©¢)
            </a>
            <a href="https://www.facebook.com/062582589a/" target="_blank" class="col-span-2 btn-link btn-fb text-xs py-2.5">
                <i class="fab fa-facebook mr-1"></i> FB ç²‰çµ²å°ˆé 
            </a>
            <a href="https://maps.app.goo.gl/qyKhdrKsG5QBo2BW8" target="_blank" class="col-span-2 btn-link btn-map text-xs py-2.5">
                <i class="fas fa-map-marker-alt mr-1"></i> åœ°åœ–å°èˆª
            </a>
            <a href="https://line.me/ti/g2/aVklWxyLP1RtfstQsslGQOlP4KViuFI7PPucdQ?utm_source=invitation&utm_medium=link_copy&utm_campaign=default" target="_blank" class="col-span-4 btn-link btn-vip text-xs py-2.5">
                <i class="fas fa-crown mr-2"></i> åŠ å…¥å®åœ‹åœ°æ”¿ç ”ç©¶é™¢ (VIP)
            </a>
        </div>
    </div>

    <div class="px-4 -mt-12 relative z-10 space-y-6">
        
        <div class="grid grid-cols-2 gap-3">
            <a href="https://youtube.com/shorts/55izyPJEq4g?si=_wjeOIN628Jj2yBU" target="_blank" class="bg-white rounded-2xl p-4 shadow-sm border border-blue-100 flex flex-col items-center text-center group hover:shadow-md transition-all">
                <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center text-xl mb-2 group-hover:scale-110 transition-transform">ğŸ¬</div>
                <h3 class="font-bold text-blue-900 text-sm mb-1">ç³»çµ±æ“ä½œæ•™å­¸</h3>
                <span class="text-blue-600 text-xs font-medium flex items-center">
                    <i class="fab fa-youtube mr-1"></i> ç«‹å³è§€çœ‹
                </span>
            </a>
            <a href="https://youtube.com/shorts/3tcLcY8YpHA?si=1k3DkxfRMNCpXGjG" target="_blank" class="bg-white rounded-2xl p-4 shadow-sm border border-yellow-100 flex flex-col items-center text-center group hover:shadow-md transition-all">
                <div class="w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center text-xl mb-2 group-hover:scale-110 transition-transform">ğŸ”¥</div>
                <h3 class="font-bold text-yellow-900 text-sm mb-1">ç¹¼æ‰¿æˆ¿ç”¢çœç¨…</h3>
                <span class="text-yellow-600 text-xs font-medium flex items-center">
                    <i class="fab fa-youtube mr-1"></i> é»æ“Šè§€çœ‹
                </span>
            </a>
        </div>

        <div class="modern-section">
            <h2 class="section-title"><i class="fas fa-user-circle"></i> å®¢æˆ¶èƒŒæ™¯è³‡æ–™</h2>
            <div class="space-y-4">
                
                <div class="input-group">
                    <label class="input-label"><i class="fas fa-map-marked-alt"></i> Q1ï¼šæ‰€åœ¨ç¸£å¸‚ <span class="text-[10px] text-blue-500 ml-1 bg-blue-50 px-2 py-0.5 rounded-full">(è‡ªå‹•å¸¶å…¥å…¬è‚¡æ¨™æº–)</span></label>
                    <select v-model="region" class="nexus-select bg-blue-50/50 border-blue-200 text-blue-900 font-medium">
                        <option value="è‡ºåŒ—å¸‚">è‡ºåŒ—å¸‚ ($20,744)</option>
                        <option value="æ–°åŒ—å¸‚">æ–°åŒ—å¸‚ ($17,750)</option>
                        <option value="æ¡ƒåœ’å¸‚">æ¡ƒåœ’å¸‚ ($17,186)</option>
                        <option value="è‡ºä¸­å¸‚">è‡ºä¸­å¸‚ ($16,431)</option>
                        <option value="è‡ºå—å¸‚">è‡ºå—å¸‚ ($15,515)</option>
                        <option value="é«˜é›„å¸‚">é«˜é›„å¸‚ ($16,970)</option>
                        <option value="è‡ºç£çœ">è‡ºç£çœ/å…¶ä»–ç¸£å¸‚ ($15,515)</option>
                        <option value="ç¦å»ºçœ">ç¦å»ºçœ-é‡‘é–€/é€£æ±Ÿ ($15,173)</option>
                    </select>
                </div>

                <div class="input-group">
                    <label class="input-label"><i class="fas fa-briefcase"></i> Q2ï¼šå®¢æˆ¶è·æ¥­åˆ¥</label>
                    <select v-model="occupation" class="nexus-select">
                        <option value="">-- è«‹é¸æ“‡ --</option>
                        <option value="è‡ªç‡Ÿå•†">è‡ªç‡Ÿå•†/ä¼æ¥­ä¸» (å«æ”¤è²©)</option>
                        <option value="æ¥­å‹™æ€§è³ª">é«˜çé‡‘/æ¥­å‹™ (æˆ¿ä»²/ä¿éšª)</option>
                        <option value="å—è–ªéšç´š">ä¸€èˆ¬å—è–ª (ç§‘æŠ€/å‚³ç”¢)</option>
                        <option value="å…¬æ•™äººå“¡">å…¬å‹™äººå“¡/åœ‹ç‡Ÿ/ç™¾å¤§</option>
                        <option value="è‡ªç”±æ¥­">è‡ªç”±å·¥ä½œè€…/é ˜ç¾æ—</option>
                    </select>
                    <transition enter-active-class="transition ease-out duration-200" enter-from-class="opacity-0 translate-y-1" enter-to-class="opacity-100 translate-y-0">
                        <div v-if="occupation" class="mt-2 text-xs p-3 bg-gray-50 rounded-xl border border-gray-200 text-gray-600 flex items-start">
                            <i class="fas fa-info-circle text-nexus-gold mt-0.5 mr-2"></i>
                            <div>
                                <span v-if="occupation==='è‡ªç‡Ÿå•†'">çœ‹401/403è¡¨æˆ–æ·¨åˆ©ã€‚ç„¡å ±è¡¨éœ€å‚™é•·æœŸå­˜æ‘ºã€‚</span>
                                <span v-if="occupation==='æ¥­å‹™æ€§è³ª'">ä»¥å¹´åº¦æ‰£ç¹³æ†‘å–®ç‚ºä¸»ã€‚</span>
                                <span v-if="occupation==='å—è–ªéšç´š'||occupation==='å…¬æ•™äººå“¡'">éœ€æä¾›è¿‘ <b class="text-red-500">6å€‹æœˆ</b> è–ªè½‰è­‰æ˜ã€‚</span>
                                <span v-if="occupation==='è‡ªç”±æ¥­'">å»ºè­°æ”¶åˆ°æ¬¾é …å¾Œã€Œå…¨é¡å­˜å…¥ã€å­˜æ‘ºå†æé ˜ï¼Œå»ºç«‹é‡‘æµã€‚</span>
                            </div>
                        </div>
                    </transition>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div class="input-group">
                        <label class="input-label"><i class="fas fa-users"></i> Q3ï¼šæ‰¶é¤Šäººæ•¸</label>
                        <select v-model.number="dependents" class="nexus-select">
                            <option value="0">0äºº</option>
                            <option value="1">1äºº</option>
                            <option value="2">2äºº</option>
                            <option value="3">3äºº</option>
                            <option value="4">4äºº+</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label class="input-label"><i class="fas fa-home"></i> Q4ï¼šåä¸‹æˆ¿ç”¢</label>
                        <select v-model.number="houseCount" class="nexus-select">
                            <option value="0">é¦–è³¼ (0æˆ¶)</option>
                            <option value="1">1æˆ¶ (è²·ç¬¬2æˆ¶)</option>
                            <option value="2">2æˆ¶ä»¥ä¸Š</option>
                        </select>
                    </div>
                </div>
                <transition enter-active-class="transition ease-out duration-200" enter-from-class="opacity-0 scale-95" enter-to-class="opacity-100 scale-100">
                    <div v-if="houseCount >= 1" class="text-xs text-red-700 bg-red-50 p-3 rounded-xl border border-red-100 flex items-center">
                        <i class="fas fa-exclamation-circle text-red-500 mr-2 text-base"></i> 
                        <b>å¤®è¡Œç®¡åˆ¶æé†’ï¼š</b>{{ houseCount === 1 ? 'ç¬¬2æˆ¶ä¸Šé™5æˆï¼Œç„¡å¯¬é™æœŸã€‚' : 'ç¬¬3æˆ¶ä»¥ä¸Šä¸Šé™3æˆã€‚' }}
                    </div>
                </transition>
                <div class="input-group">
                    <label class="input-label"><i class="fas fa-birthday-cake"></i> Q5ï¼šå®¢æˆ¶å¹´é½¡</label>
                    <input v-model="age" type="text" class="nexus-input" placeholder="ä¾‹å¦‚ï¼š35æ­²">
                </div>
            </div>
        </div>

        <div class="modern-section">
            <h2 class="section-title"><i class="fas fa-coins"></i> è²¡å‹™èˆ‡è² å‚µç‹€æ³</h2>
            <div class="space-y-4">
                <div class="input-group">
                    <label class="input-label"><i class="fas fa-money-bill-wave"></i> Q6ï¼šæ¯æœˆæ”¶å…¥ (å…ƒ)</label>
                    <div class="relative">
                         <input v-model.number="monthlyIncome" type="number" class="nexus-input pl-12 font-bold text-blue-900" placeholder="ä¾‹å¦‚ï¼š55000">
                         <span class="absolute left-4 top-1/2 -translate-y-1/2 text-gray-400">$</span>
                    </div>
                </div>
                <div class="input-group">
                    <label class="input-label"><i class="fas fa-hand-holding-usd"></i> Q7ï¼šæ¯æœˆè² å‚µæ”¯å‡º (å…ƒ)</label>
                    <div class="relative">
                        <input v-model.number="monthlyDebt" type="number" class="nexus-input pl-12 font-bold text-red-900" placeholder="ä¿¡è²¸/è»Šè²¸/å­¸è²¸ç¸½å’Œ">
                        <span class="absolute left-4 top-1/2 -translate-y-1/2 text-gray-400">$</span>
                    </div>
                </div>

                <div class="bg-red-50/80 border-l-4 border-red-500 p-4 rounded-r-xl text-sm text-red-800">
                    <div class="flex items-center font-bold mb-2">
                        <i class="fas fa-clipboard-list mr-2"></i> è«‹å‹™å¿…ã€ŒåŠ ç¸½ã€ä»¥ä¸‹æœˆä»˜é‡‘ï¼š
                    </div>
                    <ul class="list-disc list-inside pl-2 space-y-1 opacity-90">
                        <li>ä¿¡è²¸ã€è»Šè²¸ã€å­¸è²¸</li>
                        <li>ä¼æ¥­/å‰µæ¥­è²¸æ¬¾ã€åä¸‹åŸæœ‰æˆ¿è²¸</li>
                    </ul>
                    <div class="mt-3 pt-3 border-t border-red-200 text-xs flex items-start">
                        <i class="far fa-lightbulb text-red-500 mr-2 mt-0.5"></i>
                        <span>è‹¥è¨ˆç•«åœ¨æœ¬æ¬¡æˆ¿è²¸å‰ã€Œå®Œå…¨æ¸…å„Ÿã€æŸç­†è²¸æ¬¾ï¼Œè©²ç­†é‡‘é¡å¯å¡« 0ã€‚</span>
                    </div>
                </div>

                <div class="input-group pt-2">
                    <label class="input-label"><i class="fas fa-comment-dollar"></i> è£œå……å‚™è¨» (è³‡ç”¢/è‚¡ç¥¨)</label>
                    <textarea v-model="assets" class="nexus-input h-24 resize-none" placeholder="ä¾‹å¦‚ï¼šè‚¡ç¥¨ç¾å€¼ç´„200è¬ï¼Œå®šå­˜50è¬..."></textarea>
                </div>
            </div>
        </div>

        <div class="modern-section" style="background: linear-gradient(to bottom, #ffffff, #fcfcfd);">
            <h2 class="section-title text-nexus-gold"><i class="fas fa-chart-pie"></i> æœ€é«˜é¡åº¦è©¦ç®—åˆ†æ</h2>

            <div class="dashboard-grid">
                <div class="dash-card safe">
                    <div class="dash-title">âœ… å®åœ‹å»ºè­° (55%)</div>
                    <div class="dash-val">{{ safeLoan }}<span class="dash-unit">è¬</span></div>
                    <div class="text-[10px] text-gray-400 mt-1">ç©©å¥ç¹³æ¬¾</div>
                </div>
                <div class="dash-card limit">
                    <div class="dash-title">ğŸ”¥ å¸‚å ´æ¥µé™ (70%)</div>
                    <div class="dash-val">{{ limitLoan }}<span class="dash-unit">è¬</span></div>
                    <div class="text-[10px] text-gray-400 mt-1">éœ€ä¿¡ç”¨æ¥µä½³</div>
                </div>
                <div class="dash-card public bg-blue-50/30 border-blue-100">
                    <div class="dash-title text-blue-800">ğŸ›ï¸ å…¬è‚¡éŠ€è¡Œ (åš´æ ¼)</div>
                    <div class="dash-val">{{ publicLoan }}<span class="dash-unit">è¬</span></div>
                    <div class="text-[10px] text-blue-400 mt-1">ä¾åœ°å€ç”Ÿæ´»è²»</div>
                </div>
            </div>
             <div class="text-right text-[10px] text-gray-400 mb-4 px-1">
                *åŸºæº–ï¼šæ¯ç™¾è¬æœˆä»˜ç´„ $4,000 (30å¹´/2.5%)
            </div>

            <details class="img-toggle mb-6">
                <summary>ğŸ“Š æŸ¥çœ‹ã€Œæˆ¿è²¸åˆ©ç‡æœˆä»˜é‡‘å°ç…§è¡¨ã€ <i class="fas fa-chevron-down text-gray-300"></i></summary>
                <img src="è²¸æ¬¾.jpg" alt="æˆ¿è²¸åˆ©ç‡æœˆä»˜é‡‘å°ç…§è¡¨">
            </details>

            <div class="bg-white p-5 rounded-2xl border border-gray-100 shadow-sm relative overflow-hidden" :class="{'ring-2 ring-yellow-400 ring-offset-2': dependents > 0}">
                <div class="absolute top-0 left-0 w-full h-1 bg-blue-500"></div>
                <h4 class="text-sm font-bold text-gray-700 mb-4 flex items-center justify-between">
                    <span><i class="fas fa-calculator text-blue-500 mr-2"></i>å…¬è‚¡éŠ€è¡Œå¯©æ ¸æ¨™æº– (æ”¶æ”¯æ¯” < 180%)</span>
                    <transition name="fade">
                        <span v-if="dependents > 0" class="text-[10px] text-yellow-700 bg-yellow-100 px-2 py-1 rounded-full flex items-center">
                            <i class="fas fa-exclamation-triangle mr-1"></i> æ‰¶é¤Šæ‰£é™¤ä¸­
                        </span>
                    </transition>
                </h4>
                
                <transition name="fade">
                    <div v-if="dependents > 0" class="mb-4 bg-yellow-50/80 p-4 rounded-xl border border-yellow-200/50">
                        <div class="text-sm text-yellow-800 font-bold mb-2 flex items-center">
                            <i class="fas fa-user-minus mr-2"></i> æ‰¶é¤Šè¦ªå±¬ç”Ÿæ´»è²»æ‰£é™¤ï¼š
                        </div>
                        <div class="flex justify-between items-end px-2">
                            <div class="text-xs text-gray-600 flex flex-col">
                                <span>åŸºæº–ï¼š${{ basicLivingCost.toLocaleString() }} ({{ region }})</span>
                                <span>äººæ•¸ï¼š{{ dependents + 1 }} äºº (å«æœ¬äºº)</span>
                            </div>
                            <span class="text-xl font-black text-yellow-700 font-roboto">-${{ (basicLivingCost * (dependents + 1)).toLocaleString() }}</span>
                        </div>
                    </div>
                </transition>

                <div class="flex justify-between items-center bg-blue-50/50 p-3 rounded-xl">
                    <div class="text-xs text-blue-800 font-medium">
                        <i class="fas fa-info-circle mr-1"></i> è¨ˆç®—å…¬å¼ï¼šæœˆæ”¶ Ã· 1.8 - è² å‚µ - ç”Ÿæ´»è²»
                    </div>
                </div>
                
                <details class="img-toggle mt-4" style="border-style: solid; background: #f8fafc;">
                    <summary class="bg-white">ğŸ’° ã€Œ115å¹´æ¯æœˆç”Ÿæ´»æ‰€å¿…éœ€æ•¸é¡ä¸€è¦½è¡¨ã€ <i class="fas fa-chevron-down text-gray-300"></i></summary>
                    <img src="messageImage_1771730977979.jpg" alt="115å¹´æ¯æœˆç”Ÿæ´»æ‰€å¿…éœ€æ•¸é¡ä¸€è¦½è¡¨">
                </details>
            </div>
        </div>

        <div class="modern-section" style="border-top: 4px solid #EF4444; background: #FEF2F2;">
            <h2 class="section-title text-red-800" style="margin-bottom: 0.5rem;">
                <i class="fas fa-user-shield text-red-600"></i> 4. ä¿äººéœ€æ±‚è©¦ç®—
            </h2>
            <p class="text-xs text-red-600/80 mb-6 pl-7">ç•¶æ‚¨æƒ³è²¸çš„é‡‘é¡è¶…éè‡ªèº«æ”¶æ”¯æ¯”æ™‚ï¼Œéœ€å¾µæä¿äººã€‚</p>
            
            <div class="grid grid-cols-2 gap-4 mb-6">
                <div class="input-group mb-0">
                    <label class="input-label text-red-900"><i class="fas fa-hand-holding-heart mr-1"></i> æƒ³è²¸é‡‘é¡ (è¬)</label>
                    <input v-model.number="targetLoan" type="number" class="nexus-input border-red-200 bg-white focus:border-red-500 text-red-900 font-bold" placeholder="ä¾‹å¦‚: 1000">
                </div>
                <div class="input-group mb-0 relative">
                    <label class="input-label text-red-900"><i class="fas fa-file-invoice-dollar mr-1"></i> ä¿äººè² å‚µ (è¬/æœˆ)</label>
                    <input v-model.number="guarantorDebt" type="number" class="nexus-input border-red-200 bg-white focus:border-red-500 text-red-900 font-bold pl-12" placeholder="ä¾‹å¦‚: 1.5">
                    <span class="absolute left-4 top-[2.6rem] text-red-300">$</span>
                </div>
            </div>
            
            <transition name="fade">
                <div v-if="targetLoan > 0" class="bg-white p-5 rounded-2xl border border-red-100 shadow-sm">
                    <div v-if="needsGuarantor">
                        <div class="text-center mb-4">
                            <span class="inline-flex items-center px-3 py-1 rounded-full bg-red-100 text-red-700 text-sm font-bold">
                                <i class="fas fa-exclamation-circle mr-2"></i> éœ€è¦ä¿äºº / è³‡æ–™ä¸è¶³
                            </span>
                             <p class="text-xs text-gray-500 mt-2">æ‚¨çš„æ”¶æ”¯æ¯”åé«˜ï¼Œå»ºè­°å¾µæä¿äººä»¥æé«˜éä»¶ç‡ã€‚</p>
                        </div>
                        
                        <div class="grid grid-cols-2 gap-3 mt-4">
                            <div class="bg-green-50 border border-green-200 rounded-xl p-4 text-center relative overflow-hidden">
                                <div class="absolute top-0 left-0 w-full h-1 bg-green-500"></div>
                                <span class="block text-sm font-bold text-green-700 mb-1">ğŸŸ¢ 50% è¼•é¬†éä»¶</span>
                                <div class="font-roboto text-2xl font-black text-green-700">{{ guarantorIncomeSafe }}<span class="text-sm">è¬</span></div>
                                <div class="text-[10px] text-green-600 opacity-80">ä¿äººå»ºè­°æœˆæ”¶</div>
                            </div>
                             <div class="bg-orange-50 border border-orange-200 rounded-xl p-4 text-center relative overflow-hidden">
                                <div class="absolute top-0 left-0 w-full h-1 bg-orange-500"></div>
                                <span class="block text-sm font-bold text-orange-700 mb-1">ğŸŸ  60% æ¥µé™æ“ä½œ</span>
                                <div class="font-roboto text-2xl font-black text-orange-700">{{ guarantorIncomeLimit }}<span class="text-sm">è¬</span></div>
                                <div class="text-[10px] text-orange-600 opacity-80">ä¿äººæœ€ä½é–€æª»</div>
                            </div>
                        </div>

                        <details class="mt-4 rounded-xl border border-gray-200 overflow-hidden text-xs">
                            <summary class="bg-gray-50 p-3 text-gray-600 font-medium cursor-pointer flex justify-between">
                                <span>ğŸ“ é»æ­¤æŸ¥çœ‹ï¼šæ”¶æ”¯æ¯”è¨ˆç®—å…¬å¼</span>
                                <i class="fas fa-chevron-down text-gray-300"></i>
                            </summary>
                            <div class="p-4 text-gray-600 leading-relaxed bg-white font-medium">
                                <p class="mb-2"><span class="bg-gray-100 px-2 py-1 rounded text-gray-700">å…¬å¼</span> (ç¸½è² å‚µ Ã· æ”¶æ”¯æ¯”) - å€Ÿæ¬¾äººæ”¶å…¥ = ä¿äººæ‰€éœ€æœˆæ”¶</p>
                                <hr class="my-3 border-gray-100">
                                <p><strong>âœ… ç¯„ä¾‹ï¼š</strong>è²¸1000è¬(æœˆä»˜4è¬)ï¼Œæœ¬èº«ä¿¡è²¸2è¬ã€‚ç¸½æ”¯å‡º6è¬ã€‚</p>
                                <p class="mt-1">è‹¥ä»¥ 60% è¨ˆç®—ï¼š6è¬ Ã· 0.6 = éœ€10è¬ç¸½æ”¶ã€‚è‹¥æ‚¨æœˆæ”¶6è¬ï¼Œå‰‡ä¿äººéœ€è£œ <strong>4è¬</strong>ã€‚</p>
                            </div>
                        </details>

                    </div>
                    <div v-else class="text-center text-green-600 py-4 bg-green-50 rounded-xl border border-green-200">
                        <i class="fas fa-check-circle text-4xl mb-3 block text-green-500"></i> 
                        <span class="font-bold text-lg">æ­å–œï¼æ‚¨çš„è²¡å‹™ç‹€æ³å¥åº·</span>
                        <p class="text-sm opacity-80 mt-1">æ”¶æ”¯æ¯”ä½æ–¼ 55%ï¼ŒåŸå‰‡ä¸Šä¸éœ€ä¿äººã€‚</p>
                    </div>
                </div>
            </transition>
        </div>

        <div class="space-y-3 mt-8 px-2">
            <h3 class="text-center font-bold text-gray-700 mb-4 flex items-center justify-center">
                <i class="fas fa-book-open text-nexus-gold mr-2"></i> è³¼å±‹è²¸æ¬¾å¸¸è¦‹ QA
            </h3>
            <details class="qa-item">
                <summary>ğŸ’° 1. ç¾é‡‘æ”¶å…¥/æ”¤è²© æ€éº¼èªå®šï¼Ÿ <i class="fas fa-plus text-gray-300 text-xs"></i></summary>
                <div class="qa-content">éŠ€è¡Œçœ‹é‡ã€Œç©©å®šæ€§ã€ã€‚å»ºè­°å›ºå®šæ™‚é–“å°‡æ”¶å…¥å­˜å…¥å­˜æ‘ºã€‚ç„¡å ±ç¨…è€…éœ€æä¾›é•·æœŸå­˜æ‘ºæˆ–ç‡Ÿæ¥­å ´æ‰€ç…§ç‰‡ä½è­‰ã€‚</div>
            </details>
            <details class="qa-item">
                <summary>ğŸ“‰ 2. æœ‰ä¿¡è²¸ã€è»Šè²¸æœƒå½±éŸ¿å—ï¼Ÿ <i class="fas fa-plus text-gray-300 text-xs"></i></summary>
                <div class="qa-content">æœƒåƒæ‰æ”¶æ”¯æ¯”ã€‚è‹¥è² å‚µæ¯”éé«˜ï¼Œå»ºè­°æˆ¿è²¸é€ä»¶å‰ã€Œæå‰ä¸€å€‹æœˆã€æ¸…å„Ÿå®Œç•¢ä¸¦å–å¾—è­‰æ˜ã€‚</div>
            </details>
            <details class="qa-item">
                <summary>ğŸ  3. å¤«å¦»è²·æˆ¿ï¼Œå…ˆç”Ÿç•¶ä¿äººï¼Ÿ <i class="fas fa-plus text-gray-300 text-xs"></i></summary>
                <div class="qa-content">è‹¥åƒ…ç‚ºã€Œä¸€èˆ¬ä¿è­‰äººã€ä¸ç®—åä¸‹è² å‚µï¼›è‹¥ç‚ºã€Œå€Ÿæ¬¾äººã€ä¹‹ä¸€ï¼Œæœªä¾†ä»–è‡ªå·±è²·æˆ¿æœƒå—ç¬¬äºŒæˆ¶ç®¡åˆ¶ã€‚</div>
            </details>
        </div>

        <div class="text-center mt-10 text-xs text-gray-400 leading-relaxed pb-4">
            <img src="https://cdn-icons-png.flaticon.com/512/2344/2344143.png" width="30" class="mx-auto mb-3 opacity-30 grayscale" alt="Logo">
            æœå‹™å°ˆç·šï¼š06-2582589ï½œå°å—å¸‚åŒ—å€æ–‡è³¢è·¯1080å··11è™Ÿ<br>
            è©¦ç®—åƒ…ä¾›åƒè€ƒï¼Œæœ€çµ‚çµæœä»¥éŠ€è¡Œæ‰¹è¦†ç‚ºæº–ã€‚<br>
            <span class="mt-2 block opacity-70">Â© 2026 å®åœ‹åœ°æ”¿ | æ˜“ä¸åœ°æ”¿. All Rights Reserved.</span>
        </div>
    </div>

    <div class="sticky-footer">
        <button onclick="sendToLine()" class="w-full bg-[#06C755] hover:bg-[#05b64d] text-white font-bold py-3.5 px-6 rounded-xl shadow-lg shadow-green-500/20 flex items-center justify-center gap-3 active:scale-[0.98] transition-all text-lg">
            <i class="fab fa-line text-2xl"></i> 
            <span>è©•ä¼°å®Œæˆï¼å‚³é€çµæœçµ¦å®åœ‹</span>
        </button>
    </div>

</div>

<script>
    const { createApp, ref, computed } = Vue;

    createApp({
        setup() {
            const region = ref("è‡ºå—å¸‚");
            const occupation = ref("");
            const dependents = ref(0);
            const houseCount = ref(0);
            const age = ref("");
            const monthlyIncome = ref(null);
            const monthlyDebt = ref(null);
            const assets = ref("");
            const targetLoan = ref(null);
            const guarantorDebt = ref(null);

            const monthlyPayPerMillion = 4000;
            
            const livingCostMap = {
                'è‡ºåŒ—å¸‚': 20744, 'æ–°åŒ—å¸‚': 17750, 'æ¡ƒåœ’å¸‚': 17186, 'è‡ºä¸­å¸‚': 16431,
                'è‡ºå—å¸‚': 15515, 'é«˜é›„å¸‚': 16970, 'è‡ºç£çœ': 15515, 'ç¦å»ºçœ': 15173
            };

            const basicLivingCost = computed(() => livingCostMap[region.value] || 15515);

            const safeLoan = computed(() => {
                if (!monthlyIncome.value) return 0;
                let val = ((monthlyIncome.value * 0.55) - (monthlyDebt.value || 0));
                return val > 0 ? Math.floor((val / monthlyPayPerMillion) * 100) : 0;
            });

            const limitLoan = computed(() => {
                if (!monthlyIncome.value) return 0;
                let val = ((monthlyIncome.value * 0.70) - (monthlyDebt.value || 0));
                return val > 0 ? Math.floor((val / monthlyPayPerMillion) * 100) : 0;
            });

            const publicLoan = computed(() => {
                if (!monthlyIncome.value) return 0;
                let totalLiving = basicLivingCost.value * (1 + dependents.value);
                let val = (monthlyIncome.value / 1.8) - (monthlyDebt.value || 0) - totalLiving;
                return val > 0 ? Math.floor((val / monthlyPayPerMillion) * 100) : 0;
            });

            const needsGuarantor = computed(() => {
                if (!targetLoan.value) return false;
                if (!monthlyIncome.value) return true;
                const payWan = (targetLoan.value / 100) * (monthlyPayPerMillion / 10000); 
                const debtWan = (monthlyDebt.value || 0) / 10000;
                const incomeWan = (monthlyIncome.value || 0) / 10000;
                return (payWan + debtWan) > (incomeWan * 0.55);
            });

            const calculateGuarantorNeed = (ratio) => {
                if (!targetLoan.value) return 0;
                const incomeWan = (monthlyIncome.value || 0) / 10000;
                const payWan = (targetLoan.value / 100) * (monthlyPayPerMillion / 10000);
                const debtWan = (monthlyDebt.value || 0) / 10000;
                const gDebtWan = guarantorDebt.value || 0;
                const incomeNeededWan = ((payWan + debtWan + gDebtWan) / ratio) - incomeWan;
                return incomeNeededWan > 0 ? (incomeNeededWan).toFixed(1) : 0;
            };

            const guarantorIncomeSafe = computed(() => calculateGuarantorNeed(0.5)); 
            const guarantorIncomeLimit = computed(() => calculateGuarantorNeed(0.6)); 

            window.sendToLine = () => {
                let text = `ã€æˆ¿è²¸é¡åº¦å…¨æ–¹ä½è©•ä¼°ã€‘\n(å®åœ‹åœ°æ”¿/æ˜“ä¸åœ°æ”¿)\n\n`;
                text += `Q1åœ°å€ï¼š${region.value}\nQ2è·æ¥­ï¼š${occupation.value || 'æœªå¡«'}\nQ3æ‰¶é¤Šï¼š${dependents.value}äºº\nQ4æˆ¿ç”¢ï¼š${houseCount.value === 0 ? 'é¦–è³¼' : houseCount.value + 'æˆ¶'}\nQ5å¹´é½¡ï¼š${age.value || 'æœªå¡«'}\nQ6æœˆæ”¶ï¼š${monthlyIncome.value || 0}\nQ7æœˆè² å‚µï¼š${monthlyDebt.value || 0}\nè³‡ç”¢å‚™è¨»ï¼š${assets.value || 'ç„¡'}\n\nğŸ“Šã€æœ€é«˜é¡åº¦è©¦ç®—ã€‘\nâœ…å®åœ‹å»ºè­°(55%)ï¼š${safeLoan.value}è¬\nğŸ”¥å¸‚å ´æ¥µé™(70%)ï¼š${limitLoan.value}è¬\nğŸ›ï¸å…¬è‚¡å°éŠ€(åš´æ ¼)ï¼š${publicLoan.value}è¬\n`;
                if (targetLoan.value) {
                    text += `\nğŸ›¡ï¸ã€ä¿äººéœ€æ±‚è©¦ç®—ã€‘\næƒ³è²¸é‡‘é¡ï¼š${targetLoan.value}è¬\nä¿äººå·²æœ‰è² å‚µï¼š${guarantorDebt.value || 0}è¬/æœˆ\n`;
                    if (needsGuarantor.value) {
                        text += `ğŸ‘‰ å»ºè­°ä¿äººæœˆæ”¶(50%æ°´æº–)ï¼š${guarantorIncomeSafe.value}è¬\nğŸ‘‰ æœ€ä½é–€æª»(60%æ¥µé™)ï¼š${guarantorIncomeLimit.value}è¬\n`;
                    } else {
                        text += `ğŸ‘‰ è²¡å‹™å¥åº·ï¼ŒåŸå‰‡ä¸Šä¸éœ€ä¿äºº\n`;
                    }
                }
                window.location.href = `https://line.me/R/oaMessage/@604gpqef/?text=${encodeURIComponent(text)}`;
            };

            return {
                region, basicLivingCost, occupation, dependents, houseCount, age,
                monthlyIncome, monthlyDebt, assets, targetLoan, guarantorDebt,
                safeLoan, limitLoan, publicLoan, needsGuarantor, guarantorIncomeSafe, guarantorIncomeLimit
            };
        }
    }).mount('#app');
</script>
<style>
.fade-enter-active, .fade-leave-active { transition: opacity 0.3s ease; }
.fade-enter-from, .fade-leave-to { opacity: 0; }
</style>
</body>
</html>
