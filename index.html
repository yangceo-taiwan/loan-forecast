<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æˆ¿è²¸é¡åº¦å…¨æ–¹ä½è©•ä¼°è¡¨ - å®åœ‹åœ°æ”¿ï½œæ˜“ä¸åœ°æ”¿</title>
    <style>
        :root {
            --primary-color: #1a5f7a;
            --accent-color: #d4a017;
            --line-color: #06c755;
            --bg-color: #f4f4f4;
            --card-bg: #ffffff;
            
            /* é¡è‰²è®Šæ•¸ */
            --safe-green: #2ecc71;
            --limit-red: #e74c3c;
            --general-bg: #e3f2fd;
            --public-bg: #2c3e50;
        }
        body {
            font-family: "Microsoft JhengHei", "Heiti TC", sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            padding: 20px 20px 80px 20px; /* åº•éƒ¨ç•™ç™½çµ¦æ‡¸æµ®æŒ‰éˆ• */
            color: #333;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: var(--card-bg);
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        /* --- Logo å€å¡Š --- */
        .logo-header {
            text-align: center;
            margin-bottom: 20px;
        }
        .logo-img {
            max-width: 100%;
            height: auto;
            max-height: 80px; 
            margin: 0 10px;
            vertical-align: middle;
        }

        h1 {
            text-align: center;
            color: var(--primary-color);
            border-bottom: 3px solid var(--accent-color);
            padding-bottom: 10px;
            margin-top: 10px;
        }
        
        /* å½±ç‰‡èˆ‡æ–°èé€£çµå€å¡Š */
        .news-alert {
            background-color: #fff3cd;
            border: 1px solid #ffeeba;
            color: #856404;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 0.95em;
            line-height: 1.8;
        }
        .news-alert a {
            color: #d9534f;
            font-weight: bold;
            text-decoration: none;
            display: block;
            margin-top: 5px;
        }

        .intro-text {
            background-color: #eef7fa;
            padding: 15px;
            border-radius: 5px;
            border-left: 5px solid var(--primary-color);
            margin-bottom: 25px;
        }

        /* è¡¨å–®é€šç”¨æ¨£å¼ */
        .form-section {
            margin-bottom: 25px;
            border: 1px solid #ddd;
            padding: 20px;
            border-radius: 8px;
        }
        .form-section h3 {
            margin-top: 0;
            color: var(--primary-color);
            display: flex;
            align-items: center;
        }
        .form-section h3::before { content: 'ğŸ“‹ '; margin-right: 5px; }
        
        label { display: block; margin-bottom: 5px; font-weight: bold; margin-top: 15px; }
        input, select, textarea {
            width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; font-size: 16px;
        }
        textarea { height: 80px; }
        
        /* æç¤ºæ¡† */
        .tip-box {
            display: none; margin-top: 10px; background-color: #fff8e1; border: 1px solid #ffe0b2; padding: 10px; border-radius: 4px; font-size: 0.9em; color: #8d6e63; line-height: 1.5;
        }
        .tip-box strong { color: #e65100; }
        
        /* è² å‚µå‚™è¨»å€å¡Š */
        .debt-note {
            background-color: #f8f9fa;
            border-left: 4px solid var(--limit-red);
            padding: 15px;
            margin-top: 10px;
            border-radius: 4px;
            font-size: 0.9em;
            color: #555;
        }
        .debt-note ul { margin: 5px 0 10px 0; padding-left: 20px; }
        .debt-note li { margin-bottom: 3px; }

        /* --- è©¦ç®—çµæœå€å¡Š --- */
        .result-container {
            display: flex;
            flex-direction: column;
            gap: 25px;
            margin-top: 30px;
        }

        .calc-box-general {
            background: var(--general-bg);
            border: 2px solid #2196f3;
            padding: 20px;
            border-radius: 10px;
            color: #0d47a1;
        }
        .general-split-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 15px;
        }
        @media (max-width: 600px) {
            .general-split-grid { grid-template-columns: 1fr; }
        }

        .sub-card {
            background: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .sub-card.safe { border-top: 4px solid var(--safe-green); }
        .sub-card.limit { border-top: 4px solid var(--limit-red); }
        
        .res-title { font-size: 0.9em; font-weight: bold; margin-bottom: 5px; display: block; }
        .res-value { font-size: 1.6em; font-weight: bold; }
        .safe .res-value { color: var(--safe-green); }
        .limit .res-value { color: var(--limit-red); }

        .calc-box-public {
            background: var(--public-bg);
            border: 2px solid var(--accent-color);
            padding: 20px;
            border-radius: 10px;
            color: white;
        }

        /* æ‘ºç–Šåœ–ç‰‡æ¨£å¼ (New) */
        .image-toggle {
            margin-bottom: 15px;
            background-color: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 8px;
            overflow: hidden;
        }
        .image-toggle summary {
            padding: 12px 15px;
            cursor: pointer;
            font-weight: bold;
            color: #d4a017;
            background-color: rgba(0,0,0,0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
            list-style: none;
        }
        .image-toggle summary:hover {
            background-color: rgba(0,0,0,0.4);
        }
        .image-toggle summary::after { content: '+'; font-size: 1.2em; }
        .image-toggle[open] summary::after { content: '-'; }
        .image-toggle[open] { border-color: #d4a017; }
        
        .image-content {
            padding: 10px;
            background-color: #fff;
            text-align: center;
        }
        .ref-image { 
            width: 100%; 
            height: auto; 
            border-radius: 4px; 
        }

        .dependent-highlight {
            background-color: rgba(255, 193, 7, 0.2);
            border: 1px solid #ffc107;
            padding: 10px;
            border-radius: 5px;
            margin-top: 10px;
            display: none;
        }

        /* --- QA æŠ˜ç–Šå€å¡Š --- */
        .qa-toggle-btn {
            background-color: #f0f0f0;
            color: #555;
            border: 1px solid #ccc;
            padding: 12px;
            width: 100%;
            text-align: left;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
        }
        .qa-toggle-btn::after {
            content: 'â–¼';
            font-size: 0.8em;
        }
        
        #qa-container {
            display: none; 
            margin-top: 15px;
            border-top: 2px solid var(--accent-color);
            padding-top: 15px;
        }

        .qa-item {
            margin-bottom: 10px;
            border: 1px solid #eee;
            border-radius: 5px;
            overflow: hidden;
            background: #fff;
        }
        .qa-item summary {
            padding: 15px;
            cursor: pointer;
            font-weight: bold;
            background-color: #f9f9f9;
            color: #444;
            display: flex;
            justify-content: space-between;
            align-items: center;
            list-style: none; 
        }
        .qa-item summary::-webkit-details-marker { display: none; }
        .qa-item summary::after { content: '+'; font-size: 1.5em; color: #999; line-height: 0.8; }
        .qa-item[open] summary { background-color: #eef7fa; color: var(--primary-color); }
        .qa-item[open] summary::after { content: '-'; color: var(--primary-color); }
        .qa-content { padding: 20px; line-height: 1.6; color: #555; background-color: #fff; border-top: 1px solid #eee; }
        .qa-tag-danger { background: var(--limit-red); color: white; padding: 2px 6px; border-radius: 4px; font-size: 0.8em; margin-right: 5px; }

        /* --- æ‡¸æµ®æŒ‰éˆ• (Sticky Bottom) --- */
        .sticky-footer {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: white;
            padding: 15px;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            text-align: center;
            z-index: 999;
        }
        .sticky-btn {
            background-color: var(--line-color);
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 18px;
            border-radius: 50px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(6, 199, 85, 0.4);
            width: 90%;
            max-width: 600px;
            animation: pulse 2s infinite;
        }
        .sticky-btn:hover { background-color: #05a546; }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }

        .footer { margin-top: 20px; padding-top: 20px; border-top: 1px solid #eee; text-align: center; font-size: 0.9em; }
        .youtube-link { color: #ff0000 !important; font-weight: bold; text-decoration: none; }
    </style>
</head>
<body>

<div class="container">
    
    <div class="logo-header">
        <img src="å®åœ‹åœ°æ”¿å°é¢.jpg" alt="å®åœ‹åœ°æ”¿ Logo" class="logo-img">
        <img src="æ˜“ä¸logo-01.jpg" alt="æ˜“ä¸åœ°æ”¿ Logo" class="logo-img">
    </div>

    <h1>ğŸ“ æˆ¿è²¸é¡åº¦å…¨æ–¹ä½è©•ä¼°è¡¨</h1>
    
    <div class="news-alert">
        <strong>ğŸ”¥ ç¹¼æ‰¿æˆ¿ç”¢å¿…çœ‹å½±ç‰‡â€¼ï¸ é€™æ¨£åšæœ€çœç¨…ï¼š</strong>
        <a href="https://youtube.com/shorts/3tcLcY8YpHA?si=1k3DkxfRMNCpXGjG" target="_blank">ğŸ“º é»æ“Šè§€çœ‹ï¼šç¹¼æ‰¿å¾Œæˆ¿ç”¢çš„å½±ç‰‡</a>
        <a href="https://ec.ltn.com.tw/article/breakingnews/5175188" target="_blank">ğŸ“° æ–°èå¿«è¨Šï¼šå°éŠ€æ”¶æ”¯æ¯”è®Šæ›´ç‚º180%</a>
    </div>

    <div class="intro-text">
        <p>æœ¬è¡¨å–®æä¾›<strong>ã€Œå®åœ‹å®‰å…¨å»ºè­°ã€ã€ã€Œå¸‚å ´æ¥µé™å€¼ã€</strong>èˆ‡<strong>ã€Œå…¬è‚¡éŠ€è¡Œ (åš´æ ¼)ã€</strong>ä¸‰ç¨®ä¼°åƒ¹é‚è¼¯ï¼Œå”åŠ©æ‚¨å¿«é€Ÿåˆ¤æ–·<strong>æœ€é«˜è²¸æ¬¾é¡åº¦</strong>ã€‚</p>
    </div>

    <form id="loanForm">
        <div class="form-section">
            <h3>å®¢æˆ¶èƒŒæ™¯è³‡æ–™</h3>
            <label>Q1ï¼šå®¢æˆ¶è·æ¥­åˆ¥æ˜¯ä»€éº¼â“</label>
            <select id="occupation" onchange="showOccupationTip()">
                <option value="">-- è«‹é¸æ“‡ --</option>
                <option value="è‡ªç‡Ÿå•†">è‡ªç‡Ÿå•†/ä¼æ¥­ä¸» (å«æ”¤è²©)</option>
                <option value="æ¥­å‹™æ€§è³ª">é«˜çé‡‘/æ¥­å‹™æ€§è³ª (æˆ¿ä»²/ä¿éšª/è»Šæ¥­)</option>
                <option value="å—è–ªéšç´š">ä¸€èˆ¬å—è–ªéšç´š (ç§‘æŠ€/å‚³ç”¢/è¡Œæ”¿)</option>
                <option value="å…¬æ•™äººå“¡">å…¬å‹™äººå“¡/åœ‹ç‡Ÿä¼æ¥­/ç™¾å¤§</option>
                <option value="è‡ªç”±æ¥­">è‡ªç”±å·¥ä½œè€…/é ˜ç¾æ—</option>
            </select>
            
            <div id="tip-business" class="tip-box">ğŸ’¡ <strong>è‡ªç‡Ÿå•†ï¼š</strong>çœ‹401/403è¡¨æˆ–æ·¨åˆ©ã€‚ç„¡å ±è¡¨éœ€å‚™é•·æœŸå­˜æ‘ºã€‚</div>
            <div id="tip-sales" class="tip-box">ğŸ’¡ <strong>æ¥­å‹™ï¼š</strong>çœ‹å¹´åº¦æ‰£ç¹³æ†‘å–®ã€‚</div>
            <div id="tip-salary" class="tip-box">ğŸ’¡ <strong>å—è–ª/å…¬æ•™ï¼š</strong>éœ€æä¾›è¿‘ <strong style="color:#d32f2f; text-decoration:underline;">6å€‹æœˆ</strong> è–ªè³‡è½‰å¸³è­‰æ˜ã€‚</div>
            <div id="tip-freelance" class="tip-box">
                ğŸ’¡ <strong>è‡ªç”±æ¥­/é ˜ç¾ï¼š</strong>éŠ€è¡Œä¸»è¦å¯©æŸ¥å­˜æ¬¾åŸºæ•¸ã€‚<br>
                ğŸ‘‰ å»ºè­°æ”¶åˆ°æ¬¾é …å¾Œ<strong>ã€Œå…¨é¡å­˜å…¥ã€</strong>å­˜æ‘ºï¼Œå†æé ˜ç¹³è²»ï¼Œå»ºç«‹å®Œæ•´é‡‘æµï¼Œé¿å…éŠ€è¡Œç„¡æ³•èªå®šå¯¦éš›æœˆæ”¶ã€‚
            </div>
            
            <label>Q2ï¼šæ‰¶é¤Šè¦ªå±¬ / å°å­©äººæ•¸ (äºº)â“ <span style="font-size:0.8em; color:#d4a017;">(å½±éŸ¿å…¬è‚¡éŠ€è¡Œé¡åº¦)</span></label>
            <select id="dependents" onchange="calculateAll()">
                <option value="0">0 äºº (å–®èº«ç„¡æ‰¶é¤Š)</option>
                <option value="1">1 äºº</option>
                <option value="2">2 äºº</option>
                <option value="3">3 äºº</option>
                <option value="4">4 äººä»¥ä¸Š</option>
            </select>

            <label>Q3ï¼šåä¸‹æˆ¿å±‹ç‹€æ³ (å¤®è¡Œç®¡åˆ¶)â“</label>
            <select id="houseCount" onchange="checkBankRules()">
                <option value="0">ç„¡æˆ¿å±‹ (é¦–è³¼)</option>
                <option value="1">æŒæœ‰1æˆ¶ (æ¬²è²·ç¬¬2æˆ¶)</option>
                <option value="2">æŒæœ‰2æˆ¶ä»¥ä¸Š</option>
            </select>
            <div id="tip-house-rule" class="tip-box" style="background-color: #ffebee; border-color: #ffcdd2; color: #b71c1c;"></div>
            
            <label>Q4ï¼šå®¢æˆ¶å¹´é½¡â“</label>
            <input type="text" id="age" placeholder="ä¾‹å¦‚ï¼š35æ­²">
        </div>

        <div class="form-section">
            <h3>è²¡å‹™èˆ‡è² å‚µç‹€æ³</h3>
            <label>Q5ï¼šæ¯æœˆæ”¶å…¥å¤§ç´„å¤šå°‘ (å…ƒ)â“</label>
            <input type="number" id="monthlyIncome" placeholder="ä¾‹å¦‚ï¼š55000" oninput="calculateAll()">
            
            <label>Q6ï¼šæ¯æœˆè² å‚µæ”¯å‡ºç¸½å…±å¤šå°‘ (å…ƒ)â“</label>
            <input type="number" id="monthlyDebt" placeholder="è«‹è¼¸å…¥æ¯æœˆéœ€å„Ÿé‚„çš„ç¸½é‡‘é¡" oninput="calculateAll()">
            
            <div class="debt-note">
                <strong>ğŸ“‹ è«‹å‹™å¿…ã€ŒåŠ ç¸½ã€ä»¥ä¸‹é …ç›®ä¹‹æœˆä»˜é‡‘ï¼š</strong>
                <ul>
                    <li>ğŸ”¹ <strong>ä¿¡ç”¨è²¸æ¬¾ (ä¿¡è²¸)</strong></li>
                    <li>ğŸ”¹ <strong>å°±å­¸è²¸æ¬¾ (å­¸è²¸)</strong></li>
                    <li>ğŸ”¹ <strong>æ±½è»Šè²¸æ¬¾ (è»Šè²¸)</strong></li>
                    <li>ğŸ”¹ <strong>ä¼æ¥­/å‰µæ¥­è²¸æ¬¾</strong></li>
                    <li>ğŸ”¹ <strong>åä¸‹åŸæœ‰æˆ¿è²¸</strong></li>
                </ul>
                <p style="font-size:0.85em; color:#d9534f; border-top:1px solid #ddd; padding-top:8px; margin-top:5px; margin-bottom:0;">
                    ğŸ’¡ <strong>ææ—©æ¸…å„Ÿæé†’ï¼š</strong><br>
                    è‹¥è¨ˆç•«åœ¨æœ¬æ¬¡æˆ¿è²¸ç”³è«‹å‰ã€Œå®Œå…¨æ¸…å„Ÿã€æŸç­†è²¸æ¬¾ï¼Œè©²ç­†é‡‘é¡å¯å¡« 0 (ä¸è¨ˆå…¥)ã€‚
                </p>
            </div>

            <label>å…¶ä»–è£œå…… (å ±ç¨…/è³‡ç”¢)ï¼š</label>
            <textarea id="assets" placeholder="ä¾‹å¦‚ï¼šå…¨é¡å ±ç¨…ï¼Œè‚¡ç¥¨ç¾å€¼ç´„200è¬..."></textarea>
        </div>

        <h2 style="text-align:center; margin-top:40px; color:#333;">ğŸ“Š æœ€é«˜é¡åº¦è©¦ç®—åˆ†æ</h2>
        
        <div class="result-container">
            
            <div class="calc-box-general">
                <h3>ğŸ¦ ä¸€èˆ¬éŠ€è¡Œ / å¸‚å ´è¡Œæƒ…</h3>
                <p style="font-size:0.9em; margin-bottom:10px;">èªªæ˜ï¼šä¸€èˆ¬éŠ€è¡Œå¤šä»¥<strong>ã€Œè² å‚µæ¯” (DTI)ã€</strong>è¨ˆç®—ã€‚</p>
                
                <div class="general-split-grid">
                    <div class="sub-card safe">
                        <span class="res-title">âœ… å®åœ‹å»ºè­° (å®‰å…¨å€¼)</span>
                        <div style="font-size:0.8em; color:#666; margin-bottom:5px;">è² å‚µæ¯” 55%</div>
                        <span id="res_loan_safe" class="res-value">0</span>
                        <span style="font-size:1em; font-weight:bold;">è¬</span>
                        <div style="font-size:0.75em; color:#999; margin-top:5px;">æœ€ç©©å¥ï¼Œè¼•é¬†ç¹³æ¬¾</div>
                    </div>

                    <div class="sub-card limit">
                        <span class="res-title">ğŸ”¥ å¸‚å ´æ¥µé™ (ç·Šç¹ƒå€¼)</span>
                        <div style="font-size:0.8em; color:#666; margin-bottom:5px;">è² å‚µæ¯” 70%</div>
                        <span id="res_loan_limit" class="res-value">0</span>
                        <span style="font-size:1em; font-weight:bold;">è¬</span>
                        <div style="font-size:0.75em; color:#999; margin-top:5px;">éœ€ä¿¡ç”¨è©•åˆ†æ¥µä½³</div>
                    </div>
                </div>
                <p style="font-size:0.8em; color:#666; text-align:right; margin-top:10px;">
                    (è¨ˆç®—åŸºæº–ï¼šæ¯ç™¾è¬å…ƒæœˆä»˜ç´„ $4,000ï½œ30å¹´æœŸï¼Œåˆ©ç‡2.5%)
                </p>
                
                <details class="image-toggle">
                    <summary>ğŸ“Š é»æ­¤æŸ¥çœ‹ã€Œæˆ¿è²¸åˆ©ç‡æœˆä»˜é‡‘å°ç…§è¡¨ã€</summary>
                    <div class="image-content">
                        <img src="è²¸æ¬¾.jpg" alt="æˆ¿è²¸åˆ©ç‡æœˆä»˜é‡‘å°ç…§è¡¨" class="ref-image">
                    </div>
                </details>
            </div>

            <div class="calc-box-public">
                <h3>ğŸ›ï¸ å…¬è‚¡éŠ€è¡Œ / å°éŠ€æ¨¡å¼ (åš´æ ¼)</h3>
                
                <details class="image-toggle">
                    <summary>ğŸ’° é»æ­¤æŸ¥çœ‹ã€Œ114å¹´æ¯æœˆç”Ÿæ´»æ‰€å¿…éœ€æ•¸é¡ã€</summary>
                    <div class="image-content">
                        <img src="1764426349365.jpg" alt="114å¹´æ¯æœˆæœ€ä½ç”Ÿæ´»è²»ä¸€è¦½è¡¨" class="ref-image">
                    </div>
                </details>

                <div id="highlight-dependents" class="dependent-highlight">
                    <span style="color:#d4a017; font-weight:bold;">âš ï¸ æ‰¶é¤Šæ‰£é™¤æ¨™è¨»ï¼š</span>
                    æ‰¶é¤Š <span id="show-dep-count" style="font-weight:bold; color:white;">0</span> äººï¼Œ
                    æ¯æœˆç”Ÿæ´»è²»éœ€æ‰£é™¤ï¼š<br>
                    <span style="font-size:1.5em; color:#fff; font-weight:bold;">$ <span id="show-living-total">15,515</span></span>
                </div>

                <p style="font-size:0.9em; margin-top:10px; opacity:0.9;">å…¬å¼ï¼šæœˆæ”¶ Ã· (æœˆè² å‚µ + ç”Ÿæ´»è²» + æˆ¿è²¸) â‰§ <strong>180%</strong></p>

                <div class="calc-result" style="background:rgba(255,255,255,0.1); padding:15px; border-radius:8px;">
                    <p>è‹¥è¦ç¬¦åˆ <strong>180%</strong> é–€æª»ï¼š</p>
                    <p>ğŸ‘‰ æœ€é«˜å¯è²¸é‡‘é¡ç´„ï¼š <span id="res_loan_public" style="font-size:1.6em; color:var(--accent-color); font-weight:bold;">0</span> è¬</p>
                </div>
            </div>

        </div>

        <button type="button" class="qa-toggle-btn" onclick="toggleQA()">
            ğŸ“š é»æ­¤å±•é–‹ã€Œè³¼å±‹è²¸æ¬¾å¸¸è¦‹ QAã€
        </button>

        <div id="qa-container">
            <details class="qa-item">
                <summary>ğŸ’° 1. ç¾é‡‘æ”¶å…¥/æ”¤è²©/å¸æ©Ÿ æ€éº¼èªå®šï¼Ÿ</summary>
                <div class="qa-content">
                    éŠ€è¡Œæœ€çœ‹é‡ã€Œç©©å®šæ€§ã€ã€‚å»ºè­°å›ºå®šæ™‚é–“å°‡æ”¶å…¥å­˜å…¥å­˜æ‘ºã€‚è‹¥ç„¡å ±ç¨…ï¼Œéœ€æä¾›ã€Œé•·æœŸå­˜æ‘ºå‡ºå…¥å¸³ã€æˆ–ã€Œç‡Ÿæ¥­å ´æ‰€ç…§ç‰‡ã€ä½è­‰ã€‚
                </div>
            </details>

            <details class="qa-item">
                <summary>ğŸ“‰ 2. å¦‚æœæœ‰ä¿¡è²¸ã€è»Šè²¸ï¼Œæœƒå½±éŸ¿æˆ¿è²¸å—ï¼Ÿ</summary>
                <div class="qa-content">
                    æœƒåƒæ‰æ‚¨çš„æ”¶æ”¯æ¯”é¡åº¦ã€‚è‹¥è² å‚µæ¯”éé«˜ï¼Œå»ºè­°åœ¨æˆ¿è²¸é€ä»¶å‰ã€Œæå‰ä¸€å€‹æœˆã€æ¸…å„Ÿå®Œç•¢ï¼Œä¸¦å–å¾—æ¸…å„Ÿè­‰æ˜ã€‚
                </div>
            </details>

            <details class="qa-item">
                <summary>ğŸ  3. å¤«å¦»è²·æˆ¿ï¼Œå…ˆç”Ÿç•¶ä¿äººï¼Œç®—ç¬¬äºŒå±‹å—ï¼Ÿ</summary>
                <div class="qa-content">
                    <span class="qa-tag">é‡è¦</span>è‹¥å…ˆç”Ÿåƒ…æ˜¯ã€Œä¸€èˆ¬ä¿è­‰äººã€ï¼Œå‰‡ä¸ç®—åä¸‹è² å‚µï¼›ä½†è‹¥å…ˆç”Ÿä¹Ÿæ˜¯ã€Œå€Ÿæ¬¾äººã€ä¹‹ä¸€ï¼Œæœªä¾†ä»–è‡ªå·±å†è²·æˆ¿æ™‚ï¼Œå°±æœƒå—å¤®è¡Œç¬¬äºŒæˆ¶é™è²¸ç®¡åˆ¶ã€‚
                </div>
            </details>

            <details class="qa-item">
                <summary>ğŸ‘¬ 4. æœ‹å‹/æƒ…ä¾¶è¯åè²·æˆ¿å¯ä»¥å—ï¼Ÿ</summary>
                <div class="qa-content">
                    å„å®¶éŠ€è¡Œèªå®šä¸åŒã€‚éƒ¨åˆ†éŠ€è¡Œæœƒè¦–ç‚ºæŠ•è³‡å®¢ï¼Œæˆæ•¸å¯èƒ½é™è‡³ 6 æˆã€‚å»ºè­°ç”±ä¸€äººä¸»å€Ÿï¼Œå¦ä¸€äººç•¶ä¿äººè¼ƒç‚ºå–®ç´”ã€‚
                </div>
            </details>

            <details class="qa-item">
                <summary>ğŸ”„ 5. æ›å±‹æ— (å…ˆè²·å¾Œè³£) æœ‰å¯¬é™æœŸå—ï¼Ÿ</summary>
                <div class="qa-content">
                    å¤®è¡Œè¦å®šç¬¬äºŒæˆ¶ç„¡å¯¬é™æœŸã€‚ä½†è‹¥èˆ‡éŠ€è¡Œåˆ‡çµã€Œä¸€å¹´å…§è³£å‡ºèˆŠå±‹ã€ï¼Œéƒ¨åˆ†éŠ€è¡Œå¯çµ¦äºˆå½ˆæ€§æˆ–è§£é™¤é™åˆ¶ã€‚
                </div>
            </details>

            <details class="qa-item">
                <summary>ğŸ‘´ 6. å¹´é½¡å¾ˆå¤§é‚„èƒ½è²¸æ¬¾å—ï¼Ÿ(é«˜é½¡æˆ¿è²¸)</summary>
                <div class="qa-content">
                    é€šå¸¸éŠ€è¡Œå…¬å¼ç‚ºã€Œå¹´é½¡ + è²¸æ¬¾å¹´é™ â‰¦ 75ã€ã€‚ä¾‹å¦‚ 55 æ­²è²·æˆ¿ï¼Œå¯èƒ½åªèƒ½è²¸ 20 å¹´ã€‚è‹¥æœ‰å¹´è¼•å­å¥³ç•¶ä¿äººï¼Œæœ‰æ©Ÿæœƒæ‹‰é•·å¹´é™ã€‚
                </div>
            </details>

            <details class="qa-item">
                <summary>ğŸ’³ 7. ä¿¡ç”¨å¡åªç¹³æœ€ä½ (å‹•ç”¨å¾ªç’°) æœ‰é—œä¿‚å—ï¼Ÿ</summary>
                <div class="qa-content">
                    <span class="qa-tag-danger">å±éšª</span>é€™å°ä¿¡ç”¨è©•åˆ†æ‰£åˆ†éå¸¸é‡ï¼éŠ€è¡Œæœƒèªç‚ºç†è²¡å‡ºç‹€æ³ã€‚å»ºè­°æˆ¿è²¸ç”³è«‹å‰åŠå¹´å…§ï¼Œå‹™å¿…å…¨é¡ç¹³æ¸…ã€‚
                </div>
            </details>

            <details class="qa-item">
                <summary>ğŸ—ï¸ 8. é å”®å±‹ä»€éº¼æ™‚å€™è¦é–‹å§‹æ‰¾æˆ¿è²¸ï¼Ÿ</summary>
                <div class="qa-content">
                    é€šå¸¸åœ¨äº¤å±‹å‰ 2~3 å€‹æœˆé–‹å§‹å°ä¿ã€‚å»ºå•†é€šå¸¸æœ‰é…åˆçš„éŠ€è¡Œï¼ˆæ•´æ‰¹åˆ†æˆ¶æˆ¿è²¸ï¼‰ï¼Œæˆæ•¸èˆ‡åˆ©ç‡é€šå¸¸è¼ƒå„ªæƒ ï¼Œå¯å„ªå…ˆè€ƒæ…®ã€‚
                </div>
            </details>

            <details class="qa-item">
                <summary>ğŸ”¨ 9. æˆ¿è²¸å¯ä»¥å¤šè²¸ä¸€é»å‡ºä¾†è£æ½¢å—ï¼Ÿ</summary>
                <div class="qa-content">
                    æˆ¿è²¸æœ€é«˜é€šå¸¸å°±æ˜¯æˆ¿åƒ¹ 8 æˆã€‚è‹¥éœ€è£æ½¢é‡‘ï¼Œé€šå¸¸æ˜¯æ­é…ã€Œä¿¡è²¸ã€æˆ–ã€Œè£æ½¢è²¸æ¬¾ã€ï¼Œä½†åˆ©ç‡æœƒæ¯”æˆ¿è²¸é«˜ã€‚
                </div>
            </details>

            <details class="qa-item">
                <summary>ğŸ“ 10. 401/403 å ±è¡¨æ˜¯ä»€éº¼ï¼Ÿ(è‡ªç‡Ÿå•†å¿…çœ‹)</summary>
                <div class="qa-content">
                    é€™æ˜¯å…¬å¸å ±ç¨…è­‰æ˜ã€‚éŠ€è¡Œé€šå¸¸èªå®šç‡Ÿæ¥­é¡çš„ 10%~20% ä½œç‚ºè² è²¬äººæ”¶å…¥ã€‚è‹¥æ›¸é¢æ”¶å…¥ä¸è¶³ï¼Œéœ€é å­˜æ‘ºé‡‘æµè£œå……ã€‚
                </div>
            </details>
        </div>

    </form>

    <div class="footer">
        <p>ğŸ’¡ æœå‹™å°ˆç·šï¼š06-2582589ï½œğŸ“® å°å—å¸‚åŒ—å€æ–‡è³¢è·¯1080å··11è™Ÿ<br>ğŸ¥‡ <strong>å®åœ‹åœ°æ”¿ï½œæ˜“ä¸åœ°æ”¿</strong></p>
        <p>
            æ”¶æ”¯æ¯”å¦‚ä½•è¨ˆç®—â“è²·æˆ¿å‰ï¼Œå…ˆç®—æ¸…æ¥šè‡ªå·±èƒ½è² æ“”å¤šå°‘â€¼ï¸<br>
            <a href="https://youtu.be/MIlC3nmtmrc?si=NLy0bQSnyGKxxhSB" target="_blank" class="youtube-link">
                ğŸ“º é»æ­¤è§€çœ‹æ•™å­¸å½±ç‰‡
            </a>
        </p>
    </div>
</div>

<div class="sticky-footer">
    <button type="button" class="sticky-btn" onclick="sendToLine()">
        ğŸš€ è©•ä¼°å®Œæˆï¼å‚³é€ LINE çµ¦ å®åœ‹åœ°æ”¿
    </button>
</div>

<script>
    function toggleQA() {
        var qaDiv = document.getElementById('qa-container');
        if (qaDiv.style.display === 'none' || qaDiv.style.display === '') {
            qaDiv.style.display = 'block';
        } else {
            qaDiv.style.display = 'none';
        }
    }

    function showOccupationTip() {
        document.querySelectorAll('.tip-box').forEach(box => { if(box.id !== 'tip-house-rule') box.style.display = 'none'; });
        var occ = document.getElementById('occupation').value;
        if (occ === 'è‡ªç‡Ÿå•†') document.getElementById('tip-business').style.display = 'block';
        else if (occ === 'æ¥­å‹™æ€§è³ª') document.getElementById('tip-sales').style.display = 'block';
        else if (occ === 'å—è–ªéšç´š' || occ === 'å…¬æ•™äººå“¡') document.getElementById('tip-salary').style.display = 'block';
        else if (occ === 'è‡ªç”±æ¥­') document.getElementById('tip-freelance').style.display = 'block';
    }

    function checkBankRules() {
        var count = document.getElementById('houseCount').value;
        var tip = document.getElementById('tip-house-rule');
        if (count >= 1) {
            tip.style.display = 'block';
            tip.innerHTML = count == 1 ? "âš ï¸ <strong>ç¬¬2æˆ¶ç®¡åˆ¶ï¼š</strong>ä¸Šé™ 5 æˆï¼Œç„¡å¯¬é™æœŸã€‚" : "â›” <strong>ç¬¬3æˆ¶ç®¡åˆ¶ï¼š</strong>ä¸Šé™ 3 æˆã€‚";
        } else { tip.style.display = 'none'; }
    }

    function calculateAll() {
        let income = parseFloat(document.getElementById('monthlyIncome').value) || 0;
        let debt = parseFloat(document.getElementById('monthlyDebt').value) || 0;
        let dependents = parseInt(document.getElementById('dependents').value) || 0;

        let monthlyPayPerMillion = 4000;

        let maxPaySafe = (income * 0.55) - debt;
        let maxLoanSafe = 0;
        if (maxPaySafe > 0) maxLoanSafe = Math.floor((maxPaySafe / monthlyPayPerMillion) * 100);
        document.getElementById('res_loan_safe').innerText = maxLoanSafe.toLocaleString();

        let maxPayLimit = (income * 0.70) - debt;
        let maxLoanLimit = 0;
        if (maxPayLimit > 0) maxLoanLimit = Math.floor((maxPayLimit / monthlyPayPerMillion) * 100);
        document.getElementById('res_loan_limit').innerText = maxLoanLimit.toLocaleString();

        let basicLivingCost = 15515; 
        let totalLivingCost = basicLivingCost * (1 + dependents); 
        let thresholdRatio = 1.8;

        let highlight = document.getElementById('highlight-dependents');
        if(dependents > 0) {
            highlight.style.display = 'block';
            document.getElementById('show-dep-count').innerText = dependents;
            document.getElementById('show-living-total').innerText = totalLivingCost.toLocaleString();
        } else {
            highlight.style.display = 'none';
        }

        let maxPayPublic = (income / thresholdRatio) - debt - totalLivingCost;
        let maxLoanPublic = 0;
        if (maxPayPublic > 0) {
            maxLoanPublic = Math.floor((maxPayPublic / monthlyPayPerMillion) * 100);
        }
        document.getElementById('res_loan_public').innerText = maxLoanPublic.toLocaleString();
    }

    function sendToLine() {
        var v = function(id) { return document.getElementById(id).value || "ç„¡"; };
        var houseStatus = document.getElementById('houseCount').options[document.getElementById('houseCount').selectedIndex].text;
        var dependents = document.getElementById('dependents').value;

        var text = `ã€æˆ¿è²¸é¡åº¦å…¨æ–¹ä½è©•ä¼°ã€‘\n`;
        text += `(å®åœ‹åœ°æ”¿/æ˜“ä¸åœ°æ”¿)\n\n`;
        text += `Q1è·æ¥­ï¼š${v('occupation')}\n`;
        text += `Q2æ‰¶é¤Šï¼š${dependents}äºº\n`;
        text += `Q3æˆ¿ç”¢ï¼š${houseStatus}\n`;
        text += `Q4å¹´é½¡ï¼š${v('age')}\n`;
        text += `Q5æœˆæ”¶ï¼š${v('monthlyIncome')}\n`;
        text += `Q6æœˆè² å‚µï¼š${v('monthlyDebt')}\n`;
        text += `è³‡ç”¢å‚™è¨»ï¼š${v('assets')}\n\n`;
        
        let safeLoan = document.getElementById('res_loan_safe').innerText;
        let limitLoan = document.getElementById('res_loan_limit').innerText;
        let pubLoan = document.getElementById('res_loan_public').innerText;
        
        text += `ğŸ“Šã€æœ€é«˜é¡åº¦è©¦ç®—ã€‘\n`;
        text += `âœ…å®åœ‹å»ºè­°(55%)ï¼š${safeLoan}è¬\n`;
        text += `ğŸ”¥å¸‚å ´æ¥µé™(70%)ï¼š${limitLoan}è¬\n`;
        text += `ğŸ›ï¸å…¬è‚¡å°éŠ€(åš´æ ¼)ï¼š${pubLoan}è¬\n`;

        var lineID = "@604gpqef";
        window.location.href = `https://line.me/R/oaMessage/${lineID}/?text=${encodeURIComponent(text)}`;
    }
</script>

</body>
</html>